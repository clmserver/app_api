# 版本信息			
			
| 时间      | 编写者 | 版本 | 说明          |			
| --------- | ------ | ---- | ------------- |			
| 2019-6-23 | 莫顺虎 | 1.0x | 自定义初始API |			
|           |        |      |               |			
			
# APP接口列表			
			
## 一、初始化APP			
			
### 1、获取闪屏信息			
			
#### 		请求URL：	
			
?	/api/flash		
			
#### 		请求方式：	
			
?	GET		
			
#### 		请求参数：	
			
?	|参数|是否必选|类型|说明|		
	|:-----|:-------:|:-----|:-----|		
			
#### 		返回数据：(闪屏图片url)	
			
```			
{			
"    'code':200,"			
"    'msg':'ok',"			
    'data':{			
        'image':url			
    }			
}			
```			
			
			
			
## 二、首页			
			
### 1、获取首页信息			
			
#### 		请求URL:	
			
?		/api/home	
			
#### 		请求方式：	
			
?		GET	
			
#### 		请求参数：	
			
?	|参数|是否必选|类型|说明|		
	|:-----|:-------:|:-----|:-----|		
			
#### 		返回数据：	
			
```			
{			
"    ‘code':200,"			
"    'msg':’ok',"			
    'data':{			
        'mainwheel':轮播图			
        'shop_type':商铺列表			
        '为你优选'：			
    }			
    			
}			
```			
			
### 2、获取店铺列表（点击店铺分类列表时）			
			
#### 		请求URL：	
			
?	/api/home/shop?shop_type_name=xxxxxxx		
			
#### 		请求方式：	
			
?	GET		
			
#### 		请求参数：	
			
| 参数           | 是否必选 | 类型   | 说明                            |			
| -------------- | -------- | ------ | ------------------------------- |			
| shop_type_name | Y        | string | 首页大分类名称（美食、饮品...） |			
			
#### 		返回数据：	
			
```			
{			
"    ‘code’:200,"			
"    'msg':'ok',"			
    'data':{			
"        'shop':shop,"			
    }			
}			
```			
			
### 3、获取全部分类（点击全部分类时）			
			
#### 		请求URL：	
			
?	/api/home/all		
			
#### 		请求方式：	
			
?	GET		
			
#### 		请求参数:	
			
?		|参数|是否必选|类型|说明|	
		|:-----|:-------:|:-----|:-----|	
			
#### 		返回参数：	
			
```			
{			
"    'code':200,"			
"    'msg':'ok',"			
    'data':{			
        'all':所有的分类			
    }			
}			
```			
			
			
			
### 4、获取店铺搜索(搜索框)			
			
#### 			请求URL：
			
?		/api/serach?keyword=xxxxxx	
			
#### 			请求方式：
			
?		GET	
			
#### 			参数类型：
			
| 参数    | 是否必选 | 类型   | 说明   |			
| :------ | :------: | :----- | :----- |			
| keyword |    Y     | string | 关键字 |			
			
#### 			返回数据：
			
```			
{			
"    'code':200,"			
    'msg':'ok'			
    'data':{			
        'shop':shop			
    }			
}			
```			
			
### 4、获取店铺详情（点击具体店铺时）			
			
#### 		请求URL：	
			
?	/api/shop/		
			
#### 		请求方式：	
			
?	GET		
			
#### 		参数类型：	
			
| 参数     | 是否必选 | 类型 | 说明   |			
| :------- | :------: | :--- | :----- |			
| store_id |    Y     | int  | 店铺id |			
			
#### 		返回数据：	
			
```			
{			
    ‘code‘：200，			
    ’msg‘：’OK‘，			
    ’data‘：{			
        ’shop‘：shop，			
        .....			
    }			
}			
```			
			
### 5、获取商品详情			
			
#### 		请求URL：	
			
?	/api/shop/goods？		
			
#### 		请求方式：	
			
?	GET		
			
#### 		参数类型：query	
			
| 参数       | 是否必选 | 类型   | 说明     |			
| :--------- | :------- | :----- | :------- |			
| goods_id   | Y        | int    | 食品ID   |			
| goods_name | Y        | string | 视频名称 |			
			
#### 		返回数据：	
			
```			
{			
"    ’code‘:200,"			
"    'msg':'ok',"			
    'data':{			
"        'goods':goods,"			
    }			
}			
```			
### 6、获取商家信息	

#### 	请求URL：		
			
?	/api/shop/xxxxx		
			
#### 	请求方式：		
			
?	GET		
			
#### 	参数类型：query		
			
| 参数     | 是否必选 | 类型 | 说明   |			
| :------- | :------: | :--- | :----- |			
| store_id |    Y     | int  | 店铺ID |	
		
### 6、获取店铺评价			
			
#### 	请求URL：		
			
?	/api/shop/xxxxx		
			
#### 	请求方式：		
			
?	GET		
			
#### 	参数类型：query		
			
| 参数     | 是否必选 | 类型 | 说明   |			
| :------- | :------: | :--- | :----- |			
| store_id |    Y     | int  | 店铺ID |			
			
### 6、获取为你优选			
			
#### 	请求URL：		
			
?	/api/goods/store/storeid/you		
			
#### 	请求方式：		
			
?	GET		
			
#### 	参数类型：query		
			
| 参数     | 是否必选 | 类型 | 说明   |			
| :------- | :------: | :--- | :----- |			
| store_id |    Y     | int  | 店铺ID |			
			
#### 	返回数据：		
			
```			
{			
"    ’code‘:200,"			
"    'msg':'ok',"			
    'data':{			
   		......	
    }			
}			
```			
			
### 7、添加到购物车			
			
#### 	请求URL：		
			
?	/api/goods/store/storeid/cart		
			
#### 	请求方式：		
			
?	post		
			
#### 	参数类型：query		
			
| 参数       | 是否必选 | 类型 | 说明       |			
| :--------- | :------: | :--- | ---------- |			
| store_cart |    Y     | char | 添加购物车 |			
			
#### 	返回数据：		
			
```			
{			
"    'code':200,"			
"    'msg':'ok',"			
    'data':{			
"        'cart':carts,"			
    }			
}			
```			
			
### 8、结算购物车			
			
#### 	请求URL：		
			
?	/api/goods/store/storeid/cart		
			
#### 	请求方式：		
			
?	post		
			
#### 	参数类型：query		
			
| 参数       | 是否必选 | 类型 | 说明       |			
| :--------- | :------: | :--- | ---------- |			
| store_cart |    Y     | char | 添加购物车 |			
			
#### 	返回数据：		
			
```			
{			
"    'code':200,"			
"    'msg':'ok',"			
    'data':{			
"        'cart':carts,"			
    }			
}			
```			
			
## 三、会员			
			
### 1、获取会员页面			
			
#### 		请求URL：	
			
?	/api/vip		
			
#### 		请求方式：	
			
?	GET		
			
#### 		请求参数：	
			
?		参数|是否必选|类型|说明|	
			
?		|:-----|:-------:|:-----|:-----|	
			
#### 		返回数据：	
			
```			
{			
    'code':200，			
"    'msg':'ok',"			
    'data':{			
        'vip':vip			
    }			
}			
```			
			
### 2、判断是否为会员			
			
### 3、开通会员			
			
					
## 四、订单			
			
### 1、获取订单页面			
			
### 2、获取最近常买			
			
### 3、获取相似商家			
			
### 4、再来一单			
			
### 5、取消订单			
			
### 6、结算订单
#### 已支付订单
#### 未支付订单
#### 未配送订单
#### 已配送订单
#### 已送达订单
### 评价订单			
			
## 五、我的			
			
### 1、获取我的页面			
			
#### 		URL：	
			
?	/api/user		
			
#### 		请求方式：	
			
?	GET		
			
#### 		请求参数：	
			
?		参数|是否必选|类型|说明|	
			
?		|:-----|:-------:|:-----|:-----|	
			
#### 		返回数据：json	
			
```			
{			
"    'code':200,"			
"    'msg':'ok',"			
    'data':{			
"        'user':user,"			
    }			
}			
```			
			
### 2、登陆			
			
#### 		URL:	
			
?	/api/user/login		
			
#### 		请求方式：	
			
?	POST		
			
#### 		请求参数：	
			
| 参数     | 是否必选 | 类型   | 说明   |			
| -------- | -------- | ------ | ------ |			
| username | Y        | string | 用户名 |			
| password | Y        | string | 密码   |			
			
#### 		返回数据：json	
			
```			
{			
"    'code':200,"			
"    'msg':'登陆成功',"			
    'data':{			
"        'user':user,"			
        'token':xxxxxxxxxxxxxxxxxxxxxxx			
    }			
}			
```			
			
### 3、注册			
			
#### 		URL:	
			
?	/api/user/register		
			
#### 		请求方式：	
			
?	POST		
			
#### 		请求参数：	
			
| 参数     | 是否必选 | 类型   | 说明   |			
| -------- | -------- | ------ | ------ |			
| username | Y        | string | 用户名 |			
| password | Y        | string | 密码   |			
| tel      | Y        | int    | 电话   |			
| nickname | N        | string | 昵称   |			
| email    | Y        | string | 邮箱   |			
			
#### 		返回数据：	
			
```			
{			
"    ’code‘:200,"			
"    'msg':'注册成功',"			
}			
```			
			
### 4、注销			
			
#### 		URL:	
			
?	/api/user/logout		
			
#### 		请求方式：	
			
?	GET		
			
#### 		请求参数：	
			
?	|参数|是否必选|类型|说明|		
	|:-----|:-------:|:-----|:-----|		
			
#### 		返回数据：	
			
```			
{			
"    ’code‘:200,"			
    'msg':'退出成功'，			
}			
```			
			
#### 5、获取登陆状态（判断用户是否登陆）			
			
#### 		URL:	
			
?	/api/user/status		
			
#### 		请求方式：	
			
?	GET		
			
#### 		请求参数：	
			
| 参数  | 是否必选 | 类型   | 说明       |			
| ----- | -------- | ------ | ---------- |			
| token | Y        | string | tooken信息 |			
			
#### 		返回数据：	
			
```			
{			
    ‘code’：200，			
    ‘msg’：‘已经登录’，			
    ‘data’：{			
        ‘user’：user			
    }			
}			
```			
			
### 6、修改密码			
			
#### 		请求URL：	
			
?	/api/user/changepwd		
			
#### 		请求方式：	
			
?	POST		
			
#### 		请求参数：	
			
| 参数            | 是否必选 | 类型   | 说明     |			
| :-------------- | :------- | :----- | :------- |			
| username        | Y        | string | 用户名   |			
| oldpassWord     | Y        | string | 旧密码   |			
| newpassword     | Y        | string | 新密码   |			
| confirmpassword | Y        | string | 确认密码 |			
| captcha_code    | Y        | string | 验证码   |			
			
#### 		返回数据：	
			
```			
{			
"    'code':200,"			
    'msg':'修改密码成功'			
}			
```			
			
### 7、获取我的地址列表			
			
#### 		请求URL:	
			
?	/api/user/address		
			
#### 		请求方式：	
			
?	GET		
			
#### 		参数类型： param	
			
| 参数    | 是否必选 | 类型 | 说明   |			
| :------ | :------: | ---- | ------ |			
| user_id |    Y     | int  | 用户id |			
			
#### 		返回数据：	
			
```			
{			
    ’code‘：200，			
"    ’msg':'ok',"			
    'data':{			
"        'address':address,"			
        ....			
    }			
}			
```			
			
### 8、增加收货地址			
			
#### 		请求URL：	
			
?	/api/user/add_address		
			
#### 		请求方式：	
			
?	POST		
			
#### 		参数类型：	
			
| 参数           | 是否必选 | 类型   | 说明                           |			
| :------------- | :------: | :----- | :----------------------------- |			
| user_id        |    Y     | int    | 用户id                         |			
| address        |    Y     | string | 地址                           |			
| address_detail |    Y     | string | 地址详情                       |			
| geohash        |    Y     | string | 经纬度                         |			
| name           |    Y     | string | 收货人姓名                     |			
| phone          |    Y     | string | 电话号码                       |			
| tag            |    Y     | string | 标签                           |			
| sex            |    Y     | int    | 性别， 1:男，2:女              |			
| poi_type       |    N     | int    | 类型，默认：0                  |			
| phone_bk       |    Y     | string | 备注电话                       |			
| tag_type       |    Y     | int    | 标签类型，2:家，3:学校，4:公司 |			
			
#### 		返回数据：	
			
```			
{			
"    ’code‘:200,"			
    'msg':'OK'，			
    ’data‘：{			
        ’info‘：’地址添加成成功‘			
    }			
}			
```			
			
### 9、删除收货地址			
			
#### 		请求URL：	
			
?	/api/user/del_address		
			
#### 		请求方式：	
			
?	DELETE		
			
#### 		参数类型：	
			
| 参数       | 是否必选 | 类型 | 说明       |			
| :--------- | :------: | :--- | :--------- |			
| user_id    |    Y     | int  | 用户id     |			
| address_id |    Y     | int  | 收货地址id |			
			
#### 		返回数据：	
			
```			
{			
"    ’code‘:200,"			
    'msg':'OK'，			
    ’data‘：{			
        ’info‘：’地址删除成功‘			
    }			
}			
```			
			
### 10、上传头像			
			
#### 		请求URL:	
			
?	/api/user/upload_avatar		
			
#### 		请求方式:	
			
?	POST		
			
#### 		参数类型:	
			
| 参数   | 是否必选 | 类型   | 说明 |			
| :----- | :------: | :----- | :--- |			
| avater |    Y     | string | 头像 |			
			
#### 	返回示例：		
			
```			
{			
	"’code‘:200,"		
"     'msg':'ok',"			
     'data':{			
         'url':pic_url			
     }			
}			
```
### 我的评价
### 红包余额
### 满减券
### 我的钱包
#### 余额
#### 银行卡
### 我的足迹
### 我的收藏
### 我的袋鼠		
			
# 商家接口列表（规划中）			
			
## 1、商家注册			
			
## 2、商家登录			
			
## 3、商家退出			
			
## 4、商家信息			
			
## 5、商家关联的店铺信息			
			
## 6、店铺中商品信息			
			
## 7、新增商品			
			
## 8、删除商品			
			
## 9、用户订单列表			
